(window.webpackJsonp=window.webpackJsonp||[]).push([[25,2,14,19],{246:function(t,e,r){},247:function(t,e,r){},260:function(t,e,r){"use strict";r(246)},261:function(t,e,r){"use strict";r(247)},268:function(t,e,r){"use strict";r.r(e);r(91);var n={props:{project:{type:Object,required:!0}},created:function(){},methods:{getStatusByUserId:function(t){var e=this.project.status.find((function(e){return e.user_id==t}));return e?e.status:""}}},o=r(25),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"accordion",attrs:{role:"tablist"}},[r("div",{staticClass:"mb-1",attrs:{"no-body":""}},[r("div",{staticClass:"p-1 accordion-button",attrs:{role:"tab"}},[r("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse-"+t.project.objectID,expression:"'collapse-' + project.objectID"}],staticClass:"accordion-button",attrs:{type:"button",block:""}},[r("div",{staticClass:"col-sm-3 col-lg-5 padding-toggle"},[r("h4",[t._v(t._s(t.project.name))])]),t._v(" "),r("div",{staticClass:"col-sm-2 col-lg-3 padding-toggle"},[t.project.mailSent?r("span",{staticClass:"green badge rounded-pill justify-content-center"},[r("i",{staticClass:"bi bi-check2"}),t._v("\n              Report Sent")]):r("span",{staticClass:"red badge rounded-pill justify-content-center"},[r("i",{staticClass:"bi bi-exclamation-triangle"}),t._v("\n              Report Due\n            ")])]),t._v(" "),r("div",{staticClass:"col text-end"},[r("button",{staticClass:"btn btn-outline-light",attrs:{type:"button","data-bs-toggle":"modal","data-bs-target":"#reportModal"},on:{click:function(e){return t.$emit("fillModal",t.project.objectID)}}},[t._v("\n              SUBMIT REPORT\n            ")])]),t._v(" "),r("div",{staticClass:"col text-center"},[r("nuxt-link",{attrs:{to:"/projects/"+t.project.objectID}},[r("button",{staticClass:"btn btn-outline-light view-edit-button",attrs:{type:"button"}},[t._v("\n                VIEW/EDIT PROJECT\n              ")])])],1),t._v(" "),r("div",{staticClass:"col edit-button accordion-button collapsed",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse-"+t.project.objectID,"aria-expanded":"false","aria-controls":"#collapse-"+t.project.objectID}},[r("span",{staticClass:"material-icons"},[t._v("expand_less")])])])]),t._v(" "),r("b-collapse",{attrs:{id:"collapse-"+t.project.objectID,accordion:"my-accordion",role:"tabpanel"}},[r("b-card-body",{staticClass:"accordion-body"},[r("table",{staticClass:"details"},[r("tr",[r("th",{staticClass:"name"},[t._v("Name")]),t._v(" "),r("th",{staticClass:"status"},[t._v("Status")]),t._v(" "),r("th",{staticClass:"report"},[t._v("Report")])]),t._v(" "),t._l(t.project.devs,(function(e){return r("tr",{key:e.objectID},[r("td",[t._v(t._s(e.name))]),t._v(" "),r("td",[t.getStatusByUserId(e.objectID)?r("span",{staticClass:"green badge rounded-pill justify-content-center"},[r("i",{staticClass:"bi bi-check2"}),t._v("\n                  Report Sent")]):r("span",{staticClass:"red badge rounded-pill justify-content-center"},[r("i",{staticClass:"bi bi-exclamation-triangle"}),t._v("\n                  Report Due\n                ")])]),t._v(" "),r("td",[t._v("\n                "+t._s(t.getStatusByUserId(e.objectID))+"\n              ")])])}))],2)])],1)],1)])])}),[],!1,null,"fc6c020e",null);e.default=component.exports},269:function(t,e,r){"use strict";r.r(e);var n,o=r(8),c=(r(33),r(14),r(91),{data:function(){return{projectReport:{}}},props:{currentProject:{type:Object,required:!0}},watch:{currentProject:function(t,e){this.projectReport=this.getProjectReport()}},computed:{projectName:function(){return this.currentProject.hasOwnProperty("name")?this.currentProject.name:""},projectEmails:function(){return this.currentProject.hasOwnProperty("email")?this.currentProject.email.join(" "):""}},methods:{getStatusByUserId:function(t){var e,r,n=null===(e=this.currentProject)||void 0===e||null===(r=e.status)||void 0===r?void 0:r.find((function(e){return e.user_id==t}));return n?n.status:""},getProjectReport:function(){var t,e=this,r="Dear client, here it is today's report:";return null===(t=this.currentProject)||void 0===t||t.devs.forEach((function(t){var n=e.getStatusByUserId(t.objectID);r+="\n".concat(t.name,": ").concat(n)})),r},submitReport:(n=Object(o.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$dataReports.saveReport(this.getReportSubmit());case 2:e=t.sent,console.log(e);case 4:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)}),getReportSubmit:function(){return Object.assign({},this.projectObject)}}}),l=c,d=(r(261),r(25)),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"modal fade",attrs:{id:"reportModal",tabindex:"-1","aria-labelledby":"reportModal-label","aria-hidden":"true"}},[r("div",{staticClass:"modal-dialog"},[r("div",{staticClass:"modal-content"},[r("form",[r("div",{staticClass:"modal-header"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-11"},[r("h5",[t._v("Report for "+t._s(t.projectName))])]),t._v(" "),t._m(0)]),t._v(" "),r("div",{staticClass:"row"},[t._m(1),t._v(" "),r("div",{staticClass:"col-7"},[r("p",[t._v(t._s(t.projectEmails))])]),t._v(" "),t._m(2)])]),t._v(" "),r("div",{staticClass:"modal-body",attrs:{contenteditable:""}},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.projectReport,expression:"projectReport"}],domProps:{value:t.projectReport},on:{input:function(e){e.target.composing||(t.projectReport=e.target.value)}}})]),t._v(" "),r("div",{staticClass:"modal-footer"},[r("button",{staticClass:"btn btn-primary",attrs:{type:"button",id:"sendReport"},on:{click:t.submitReport}},[t._v("\n              Send Report\n            ")])])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-1"},[e("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-2"},[r("p",[t._v("Recipients")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-3"},[r("button",{staticClass:"btn btn-outline-light add-recipient-button",attrs:{type:"button"}},[t._v("\n                  + ADD RECIPIENT\n                ")])])}],!1,null,null,null);e.default=component.exports},275:function(t,e,r){"use strict";r.r(e);r(260);var n=r(25),component=Object(n.a)({},(function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h2",{staticClass:"title-dashboard"},[t._v("Lead Dashboard")])])}],!1,null,"5a37de88",null);e.default=component.exports},287:function(t,e,r){"use strict";r.r(e);r(13),r(14),r(2),r(47),r(40),r(41);var n=r(8);r(33),r(91),r(10);function o(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,d=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return l=t.done,t},e:function(t){d=!0,o=t},f:function(){try{l||null==r.return||r.return()}finally{if(d)throw o}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var l={data:function(){return{currentProject:{}}},methods:{fillModal:function(t){this.currentProject=this.projects.find((function(e){return e.objectID==t}))}},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,c,l,d,v,f,j,m,_,h,C,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$dataProjects,n=t.$dataUsers,c=t.$dataStatus,l=t.$dataReports,d=t.error,e.next=3,r.getProjectsByLeadId(5);case 3:if(v=e.sent,console.log(v.json.hits),v.ok){e.next=7;break}return e.abrupt("return",d({statusCode:v.status,message:v.statusText}));case 7:return e.next=9,l.getReportsByProjectIDandDate(9,"2021-12-21");case 9:if((f=e.sent).ok){e.next=12;break}return e.abrupt("return",d({statusCode:f.status,message:f.statusText}));case 12:j=v.json.hits,m=o(j),e.prev=14,m.s();case 16:if((_=m.n()).done){e.next=28;break}return h=_.value,e.next=20,n.getUsersByProjectID(h.objectID);case 20:return C=e.sent,h.devs=C.json.hits,e.next=24,c.getStatusByProjectIDandDate(h.objectID,(new Date).toISOString().slice(0,10));case 24:y=e.sent,h.status=y.json.hits;case 26:e.next=16;break;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(14),m.e(e.t0);case 33:return e.prev=33,m.f(),e.finish(33);case 36:return e.abrupt("return",{projects:j});case 37:case"end":return e.stop()}}),e,null,[[14,30,33,36]])})))()}},d=r(25),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("NavbarLead"),t._v(" "),r("TitleLead"),t._v(" "),r("div",{staticClass:"projects"},[r("div",{staticClass:"row"},[r("div",{staticClass:"container"},[r("ul",{staticClass:"accordion",attrs:{id:"accordion-project"}},[t._l(t.projects,(function(e){return r("Accordion",{key:e.id,attrs:{project:e},on:{fillModal:t.fillModal}})})),t._v(" "),r("nuxt")],2)])])]),t._v(" "),r("modal-submit-lead",{attrs:{currentProject:t.currentProject}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{NavbarLead:r(163).default,TitleLead:r(275).default,Accordion:r(268).default,ModalSubmitLead:r(269).default})}}]);